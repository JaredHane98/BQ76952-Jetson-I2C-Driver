A work in progress. There's a lot of commands and tests to write.
